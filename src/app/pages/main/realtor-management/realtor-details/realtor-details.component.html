<main class="flex flex-col w-full">
  <div class="flex flex-col mb-10">
    <app-breadcrumb
      [items]="[
        { label: 'Realtor Management', url: '/main/realtor-management' },
        { label: 'Realtor 001' }
      ]"
    ></app-breadcrumb>
    <div class="flex items-center justify-end gap-6 my-12">
      <!-- <button
        type="button"
        [disabled]="true"
        class="place-self-end rounded-lg bg-primary py-3 px-10 text-[20px] !text-white font-medium cursor-pointer"
      >
        Delete Realtor
      </button> -->
      <button
        type="button"
        (click)="suspendRealtor()"
        class="place-self-end rounded-lg border border-primary py-3 px-10 text-[20px] !text-primary font-medium cursor-pointer"
      >
        Suspend Realtor
      </button>
    </div>
    <div
      class="flex gap-6 py-5 px-7 border border-[#EBEBEB] rounded-lg w-11/12 bg-background border-b-0 rounded-es-none rounded-ee-none"
    >
      <img
        [src]="user.avatar"
        [alt]="'An image of ' + user.full_name"
        class="w-full max-w-[230px] h-full rounded-lg object-cover"
      />

      <div class="flex flex-wrap items-center justify-between w-11/12 gap-x-16">
        <div class="flex flex-col gap-4">
          <p class="text-[#7A7A7A] !text-medium">Full Name</p>
          <h2 class="text-[#4F4F4F] text-normal font-medium text-[20px] !mb-0">
            {{ user.full_name }}
          </h2>
        </div>
        <div class="flex flex-col gap-4">
          <p class="text-[#7A7A7A] !text-medium">Email Address</p>
          <h2 class="text-[#4F4F4F] text-normal font-medium text-[20px] !mb-0">
            {{ user.email }}
          </h2>
        </div>
        <div class="flex flex-col gap-4">
          <p class="text-[#7A7A7A] !text-medium">Realtor Tag</p>
          <h2 class="text-[#4F4F4F] text-normal font-medium text-[20px] !mb-0">
            {{ user.referral_code }}
          </h2>
        </div>
        <div class="flex flex-col gap-4">
          <p class="text-[#7A7A7A] !text-medium">Total Property Managed</p>
          <h2 class="text-[#4F4F4F] text-normal font-medium text-[20px] !mb-0">
           <!-- {{ user.total_property_managed }} -->
             N/A
          </h2>
        </div>
        <div class="flex flex-col gap-4">
          <p class="text-[#7A7A7A] !text-medium">Total Purchases</p>
          <h2 class="text-[#4F4F4F] text-normal font-medium text-[20px] !mb-0">
            &#8358; N/A
          </h2>
        </div>
        <div class="flex flex-col gap-4">
          <p class="text-[#7A7A7A] !text-medium">Status</p>
          <h2 class="!text-[#008028] text-normal font-medium text-[20px] !mb-0">
            {{ user.is_active ? "Active" : ("Inactive" | titlecase) }}
          </h2>
        </div>
      </div>
    </div>
    <div
      class="flex gap-6 py-8 px-6 border border-[#EBEBEB] rounded-lg w-11/12 bg-background rounded-ss-none rounded-se-none"
    >
      <div class="flex flex-col gap-8 w-full">
        <h2 class="text-[#4F4F4F] text-normal font-medium text-2xl !mb-0">
          Additional Details
        </h2>
        <div
          class="flex flex-wrap items-center max-w-11/12 gap-x-[93px] gap-y-8"
        >
          <div class="flex flex-col gap-1">
            <p class="text-[#7A7A7A] !text-medium !mb-2">Nationality</p>
            <h2
              class="text-[#4F4F4F] text-normal font-semibold text-2xl !mb-0"
            >
              {{ nationality.name || "N/A" }}
            </h2>
          </div>
          <div class="flex flex-col gap-1">
            <p class="text-[#7A7A7A] !text-medium !mb-2">State of Origin</p>
            <h2
              class="text-[#4F4F4F] text-normal font-semibold text-2xl !mb-0"
            >
              {{ state.name || "N/A" }}
            </h2>
          </div>
          <div class="flex flex-col gap-1">
            <p class="text-[#7A7A7A] !text-medium !mb-2">Realtor</p>
            <h2
              class="text-[#4F4F4F] text-normal font-semibold text-2xl !mb-0"
            >
              {{ user.address || "N/A" }}
            </h2>
          </div>
          <div class="flex flex-col gap-1">
            <p class="text-[#7A7A7A] !text-medium !mb-2">
              Bank Verificatin Number (BVN)
            </p>
            <h2
              class="text-[#4F4F4F] text-normal font-semibold text-2xl !mb-0"
            >
              {{ user.bank_verification_number || "N/A" }}
            </h2>
          </div>
          <div class="flex flex-col gap-1">
            <p class="text-[#7A7A7A] !text-medium !mb-2">
              National Identity Number (NIN)
            </p>
            <h2
              class="text-[#4F4F4F] text-normal font-semibold text-2xl !mb-0"
            >
              {{ user.national_identity_number || "N/A" }}
            </h2>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="mb-6">
    <nz-tabset [nzSelectedIndex]="activeTab==='sales'?0:1" (nzSelectedIndexChange)="activeTab = $event===0?'sales':'clients'">
      <nz-tab nzTitle="Properties Sold">
        <div class="rounded-lg border-2 border-[#EEF2F6] bg-background px-4 py-6">
          <app-table
            [data]="salesData"
            [columns]="salesColumns"
            [loading]="loading"
            [showSelection]="false"
            [showPagination]="true"
            [showSearch]="true"
            [showFilters]="true"
            class="w-full"
          ></app-table>
          <nz-empty *ngIf="!loading && salesData.length===0" nzNotFoundContent="No sales found for this realtor"></nz-empty>
        </div>
      </nz-tab>
      <nz-tab nzTitle="Clients">
        <div class="rounded-lg border-2 border-[#EEF2F6] bg-background px-4 py-6">
          <app-table
            [data]="clientsData"
            [columns]="clientsColumns"
            [loading]="loading"
            [showSelection]="false"
            [showPagination]="true"
            [showSearch]="true"
            [showFilters]="true"
            class="w-full"
          ></app-table>
          <nz-empty *ngIf="!loading && clientsData.length===0" nzNotFoundContent="No clients found for this realtor"></nz-empty>
        </div>
      </nz-tab>
    </nz-tabset>
  </div>
</main>
